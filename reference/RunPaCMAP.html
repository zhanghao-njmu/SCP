<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Run PaCMAP (Pairwise Controlled Manifold Approximation)"><title>Run PaCMAP (Pairwise Controlled Manifold Approximation) — RunPaCMAP • SCP</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Run PaCMAP (Pairwise Controlled Manifold Approximation) — RunPaCMAP"><meta property="og:description" content="Run PaCMAP (Pairwise Controlled Manifold Approximation)"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">SCP</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.5.5</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/zhanghao-njmu/SCP">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Run PaCMAP (Pairwise Controlled Manifold Approximation)</h1>
      <small class="dont-index">Source: <a href="https://github.com/zhanghao-njmu/SCP/blob/HEAD/R/Seurat-function.R" class="external-link"><code>R/Seurat-function.R</code></a></small>
      <div class="d-none name"><code>RunPaCMAP.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Run PaCMAP (Pairwise Controlled Manifold Approximation)</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">RunPaCMAP</span><span class="op">(</span><span class="va">object</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for Seurat</span></span>
<span><span class="fu">RunPaCMAP</span><span class="op">(</span></span>
<span>  <span class="va">object</span>,</span>
<span>  reduction <span class="op">=</span> <span class="st">"pca"</span>,</span>
<span>  dims <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  features <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  assay <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  slot <span class="op">=</span> <span class="st">"data"</span>,</span>
<span>  n_components <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  n.neighbors <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  MN_ratio <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  FP_ratio <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  distance_method <span class="op">=</span> <span class="st">"euclidean"</span>,</span>
<span>  lr <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  num_iters <span class="op">=</span> <span class="fl">450L</span>,</span>
<span>  apply_pca <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  init <span class="op">=</span> <span class="st">"random"</span>,</span>
<span>  reduction.name <span class="op">=</span> <span class="st">"pacmap"</span>,</span>
<span>  reduction.key <span class="op">=</span> <span class="st">"PaCMAP_"</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  seed.use <span class="op">=</span> <span class="fl">11L</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for default</span></span>
<span><span class="fu">RunPaCMAP</span><span class="op">(</span></span>
<span>  <span class="va">object</span>,</span>
<span>  assay <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  n_components <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  n.neighbors <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  MN_ratio <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  FP_ratio <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  distance_method <span class="op">=</span> <span class="st">"euclidean"</span>,</span>
<span>  lr <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  num_iters <span class="op">=</span> <span class="fl">450L</span>,</span>
<span>  apply_pca <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  init <span class="op">=</span> <span class="st">"random"</span>,</span>
<span>  reduction.key <span class="op">=</span> <span class="st">"PaCMAP_"</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  seed.use <span class="op">=</span> <span class="fl">11L</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>object</dt>
<dd><p>An object. This can be a Seurat object or a matrix-like object.</p></dd>


<dt>...</dt>
<dd><p>Additional arguments to be passed to the pacmap.PaCMAP function.</p></dd>


<dt>reduction</dt>
<dd><p>A character string specifying the reduction to be used. Default is "pca".</p></dd>


<dt>dims</dt>
<dd><p>An integer vector specifying the dimensions to be used. Default is NULL.</p></dd>


<dt>features</dt>
<dd><p>A character vector specifying the features to be used. Default is NULL.</p></dd>


<dt>assay</dt>
<dd><p>A character string specifying the assay to be used. Default is NULL.</p></dd>


<dt>slot</dt>
<dd><p>A character string specifying the slot name to be used. Default is "data".</p></dd>


<dt>n_components</dt>
<dd><p>An integer specifying the number of PaCMAP components. Default is 2.</p></dd>


<dt>n.neighbors</dt>
<dd><p>An integer specifying the number of neighbors considered in the k-Nearest Neighbor graph. Default to 10 for dataset whose sample size is smaller than 10000. For large dataset whose sample size (n) is larger than 10000, the default value is: 10 + 15 * (log10(n) - 4).</p></dd>


<dt>MN_ratio</dt>
<dd><p>A numeric value specifying the ratio of the ratio of the number of mid-near pairs to the number of neighbors. Default is 0.5.</p></dd>


<dt>FP_ratio</dt>
<dd><p>A numeric value specifying the ratio of the ratio of the number of further pairs to the number of neighbors. Default is 2.</p></dd>


<dt>distance_method</dt>
<dd><p>A character string specifying the distance metric to be used. Default is "euclidean".</p></dd>


<dt>lr</dt>
<dd><p>A numeric value specifying the learning rate of the AdaGrad optimizer. Default is 1.</p></dd>


<dt>num_iters</dt>
<dd><p>An integer specifying the number of iterations for PaCMAP optimization. Default is 450.</p></dd>


<dt>apply_pca</dt>
<dd><p>A logical value indicating whether pacmap should apply PCA to the data before constructing the k-Nearest Neighbor graph. Using PCA to preprocess the data can largely accelerate the DR process without losing too much accuracy. Notice that this option does not affect the initialization of the optimization process. Default is TRUE.</p></dd>


<dt>init</dt>
<dd><p>A character string specifying the initialization of the lower dimensional embedding. One of "pca" or "random". Default is "random".</p></dd>


<dt>reduction.name</dt>
<dd><p>A character string specifying the name of the reduction to be stored in the Seurat object. Default is "pacmap".</p></dd>


<dt>reduction.key</dt>
<dd><p>A character string specifying the prefix for the column names of the PaCMAP embeddings. Default is "PaCMAP_".</p></dd>


<dt>verbose</dt>
<dd><p>A logical value indicating whether to print verbose output. Default is TRUE.</p></dd>


<dt>seed.use</dt>
<dd><p>An integer specifying the random seed to be used. Default is 11.</p></dd>

</dl></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">pancreas_sub</span> <span class="op">&lt;-</span> <span class="fu">Seurat</span><span class="fu">::</span><span class="fu"><a href="https://satijalab.org/seurat/reference/FindVariableFeatures.html" class="external-link">FindVariableFeatures</a></span><span class="op">(</span><span class="va">pancreas_sub</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">pancreas_sub</span> <span class="op">&lt;-</span> <span class="fu">RunPaCMAP</span><span class="op">(</span>object <span class="op">=</span> <span class="va">pancreas_sub</span>, features <span class="op">=</span> <span class="fu">Seurat</span><span class="fu">::</span><span class="fu"><a href="https://mojaveazure.github.io/seurat-object/reference/VariableFeatures.html" class="external-link">VariableFeatures</a></span><span class="op">(</span><span class="va">pancreas_sub</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="CellDimPlot.html">CellDimPlot</a></span><span class="op">(</span><span class="va">pancreas_sub</span>, group.by <span class="op">=</span> <span class="st">"CellType"</span>, reduction <span class="op">=</span> <span class="st">"pacmap"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="RunPaCMAP-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Hao Zhang.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

